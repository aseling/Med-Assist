<div class="wrapper">
  <div class="left-split">
    <div class="date-wrapper">
      <h1 class="date">
        {{currentDate}}
      </h1>
      <h3 class="day-of-week">
        {{currentDayName}}
      </h3>
    </div>

    <div class="events-container">
      <div class="current-events">
        <label>Current Appointments:</label>
        <div *ngIf="currentAppointments.length <= 0" class="no-appts">You have no appointments scheduled for today</div>
        <div class="appointments" *ngFor="let i of currentAppointments">
          <ul>
            <li>{{i}}</li>
          </ul>
        </div>
      </div>

      <div class="upcoming-events">
        <label>Upcoming Appointments:</label>
        <div *ngIf="futureAppointments.length <= 0" class="no-appts">You have no upcoming appointments scheduled</div>
        <div class="appointments" *ngFor="let i of futureAppointments">
          <ul>
            <li>{{i}}</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="add-appt-container">
      <button class="add-appt-btn" type="button" data-toggle="modal" data-target="#addAppointment">Add new appointment
        <i class="fas fa-plus plus"></i></button>
    </div>
  </div>

  <div class="right-split">

    <div class="date-picker-container">
      <div class="year"><label>{{currentYear}}</label></div>
      <button class="caret-btns" type="button" (click)="backOneMonth()"><i class="fas fa-chevron-left"></i></button>
      <label class="month">{{monthName}}</label>
      <button class="caret-btns" type="button" (click)="forwardOneMonth()"><i class="fas fa-chevron-right"></i></button>
    </div>

    <div class="calendar-container">
      <div class="day-of-week-box" *ngFor="let i of shortHandWeekDays">
        {{i}}
      </div>

      <div class="day-of-week-box" *ngFor="let i of numOfDaysInMonth; let i = index">
        {{i}}
      </div>
    </div>

    <div class="view-past-container">
      <button class="view-past-btn" type="button" data-toggle="modal" data-target="#pastAppointments">View past
        appointment
      </button>
    </div>
  </div>
</div>


<div class="modal-container">
  <!-- Modal -->
  <div class="modal fade" id="addAppointment" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-body">
          <mat-horizontal-stepper [linear]="isLinear" #stepper>

            <mat-step [completed]="false">
              <ng-template matStepLabel>Doctor</ng-template>
              <h5>Choose a doctor</h5>
              <div class="doc-container" *ngIf="step === 0">
                <div class="doc-selection ">
                  <div class="doc-choice" *ngFor="let i of doctors" (click)="selectedDoctor(i)"
                       [ngClass]="{'selected ': i.name == selectedDoctorName,'not-selected ': i.name != selectedDoctorName }">
                    <img class="doc-image" src="{{i.image}}">
                    <div class="doc-selected">{{i.name}}</div>
                  </div>
                </div>
              </div>
              <div>
                <button class="next" mat-button matStepperNext color="primary">Next <i class="fas fa-arrow-right"></i></button>
              </div>
            </mat-step>

            <mat-step [completed]="false">
              <ng-template matStepLabel>Date</ng-template>
              <h5>Pick a date</h5>
              <div class="date-container">
                <div class="date-choice">
                  <mat-form-field class="full-width" id="date-picker">
                    <input matInput
                           [matDatepickerFilter]="myFilter"
                           [matDatepicker]="picker"
                           [min]="minDate"
                           placeholder="Choose a date"
                           (dateInput)="addEvent('input', $event)"
                           (dateChange)="addEvent('change', $event)"
                           (click)="picker.open()">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                  </mat-form-field>
                </div>
              </div>
              <div>
                <button class="back" mat-button matStepperPrevious color="warn"><i class="fas fa-arrow-left"></i> Back</button>
                <button class="next" mat-button matStepperNext color="primary">Next <i class="fas fa-arrow-right"></i></button>
              </div>
            </mat-step>

            <mat-step [completed]="false">
              <ng-template matStepLabel>Time</ng-template>

              <h5>Select a time</h5>
              <div class="time-container">
                <mat-form-field class="full-width">
                  <mat-select placeholder="Select Time" [(ngModel)]="selectedTime">
                    <mat-option *ngFor="let i of times" [value]="i">
                      {{i}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div>
                <button class="back" mat-button matStepperPrevious color="warn"><i class="fas fa-arrow-left"></i> Back</button>
                <button class="next" mat-button matStepperNext color="primary">Next <i class="fas fa-arrow-right"></i></button>
              </div>
            </mat-step>

            <mat-step [completed]="false">
              <ng-template matStepLabel>Reason</ng-template>
              <h5>Tell us the reason for your visit</h5>
              <div class="visit-reason">
                <mat-form-field class="full-width">
                  <textarea matInput placeholder="Reason for visit" [(ngModel)]="visitDescription"></textarea>
                </mat-form-field>
              </div>
              <div>
                <button class="back" mat-button matStepperPrevious color="warn"><i class="fas fa-arrow-left"></i> Back</button>
                <div class="submit-cancel">
                  <button type="button" class="submit-btn" (click)="submitNewAppt()">Add New Appointment</button>
                  <button type="button" class="cancel-btn" data-dismiss="modal" (click)="cancel(); stepper.reset()">
                    Cancel
                  </button>
                </div>
              </div>
            </mat-step>

          </mat-horizontal-stepper>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="modal-container">
  <!-- Modal -->
  <div class="modal fade" id="pastAppointments" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          past
        </div>
      </div>

    </div>
  </div>
</div>
